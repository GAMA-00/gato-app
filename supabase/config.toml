
# This is the project configuration for the Supabase platform.
project_id = "jckynopecuexfamepmoh"
[api]
# Port to use for the API URL.
port = 54321
# Enable API development mode to use the latest API features.
[api.develop]
enabled = true

[db]
port = 54322

[studio]
port = 54323

[inbucket]
port = 54324

[storage]
file_size_limit = "50MiB"

[auth]
# For accepting signups using Google OAuth
enabled_providers = ["google"]
# Redirect URL for OAuth signups
redirect_url = "http://localhost:3000/payment-setup"

[functions.create-payment]
verify_jwt = true

[functions.onvopay-authorize]
verify_jwt = true

[functions.onvopay-capture]
verify_jwt = true

[functions.onvopay-confirm]
verify_jwt = false

[functions.onvopay-customer-sync]
verify_jwt = true

[functions.onvopay-health-check]
verify_jwt = false

[functions.onvopay-webhook]
verify_jwt = false

[functions.onvopay-transaction-lookup]
verify_jwt = false

[functions.onvopay-create-subscription]
verify_jwt = true

[functions.onvopay-charge-post-payment]
verify_jwt = true

[functions.onvopay-sync-customer-names]
verify_jwt = true

[functions.onvopay-subscription-webhook]
verify_jwt = false

[functions.onvopay-sync-recurring-payments]
verify_jwt = true

[functions.process-recurring-charges]
verify_jwt = false

[functions.onvopay-capture-on-provider-accept]
verify_jwt = false

[functions.onvopay-capture-on-invoice-approval]
verify_jwt = false

[functions.onvopay-process-membership-charge]
verify_jwt = false

[functions.onvopay-sweep-completed-recurring]
verify_jwt = false

## ============================================================
## RECURRING PAYMENTS FUNCTIONS (OnvoPay Loops Integration)
## ============================================================

[functions.onvopay-initiate-recurring]
verify_jwt = false

[functions.onvopay-create-loop]
verify_jwt = false

[functions.process-recurring-charges]
verify_jwt = false
# DEPRECATED: OnvoPay Loops now handles automatic recurring charges

## DEPRECATED Recurring Functions (Old Flow - Keep for backwards compatibility)
[functions.onvopay-process-membership-charge]
verify_jwt = false

[functions.onvopay-sweep-completed-recurring]
verify_jwt = false

[functions.send-appointment-email]
verify_jwt = false
